<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- PRELOAD FILES IN ONE STACK -->
	<!-- <script src="./hive-config.json" type="json"></script> -->
	<script src="./pre-game/connection-loader.mjs" type="module"></script>
	<script src="./hive-p2p/libs/xxhash32.mjs" type="module"></script>
	<script src="./visualizer.mjs" type="module"></script>
	<script src="./rendering/NetworkRenderer.mjs" type="module"></script>
	<script src="./rendering/renderer-options.mjs" type="module"></script>
	<script src="./rendering/renderer-stores.mjs" type="module"></script>
	<script src="./rendering/UI-components.mjs" type="module"></script>
	<script src="./game-logics/seededRandom.mjs" type="module"></script>
	<script src="./game-logics/upgrades.mjs" type="module"></script>
	<script src="./game-logics/player.mjs" type="module"></script>
	<script src="./game-logics/turn-system.mjs" type="module"></script>
	<script src="./game-logics/resources.mjs" type="module"></script>
	<script src="./game-logics/game.mjs" type="module"></script>
	<script src="./hive-p2p/dist/browser/hive-p2p.min.js" type="module"></script>
	<!-- END PRELOAD -->

	<title>Mycelium</title>
    <link rel="stylesheet" href="style.css">
	<script src="./hive-p2p/libs/three-4.5.min.js"></script>
	<script type="module" src="./main.mjs"></script>
</head>
<body>
	<div class="UI-wrapper">
		<div class="player-info">
			<div class="player-name"><span id="player-name">PlayerName</span></div>
			<div class="player-id hoverable-tooltip">
				<div class="tooltip">My player/node identifier</div>
				<span id="player-id">...</span>
			</div>
			<div class="player-stats-wrapper">
				<div class="player-stat hoverable-tooltip">
					<div class="tooltip">Lifetime</div>
					<img src="./assets/lifetime.png" alt="Lifetime">
					<span id="lifetimeCount">0</span>
				</div>

				<div class="player-stat hoverable-tooltip">
					<div class="tooltip">Connection Status</div>
					<img src="./assets/linker.png" alt="Connection Capacity" style="transform: scale(.9);">
					<span id="connectionCount">0</span>/<span id="connectionMax">0</span>
				</div>
			</div>
		</div>

		<div class="dev-info">
			<div>DEV INFO  |</div>
			<div>°°°°°°°°°°</div>
			<button id="modeSwitchBtn">2D</button>
			<div>FPS: <span id="fpsCount">0</span></div>
			<div>Nodes: <span id="nodeCount">0</span></div>
			<div>Connecting: <span id="connectingCount">0</span></div>
			<div>Neighbors: <span id="neighborCount">0</span></div>
			<div>Publics: <span id="publicNeighborCount">0</span></div>
			<div>Connections: <span id="connectionsCount">0</span></div>
			<div>Lines: <span id="linesCount">0</span></div>
		</div>

		<div class="upgrade-offers-wrapper" id ="upgrade-offers-wrapper">
			<div class="upgrade-offer linker" id="upgrade-offer-1">
				<div class="tooltip">Connection +1</div>
			</div>
			<div class="upgrade-offer producer" id="upgrade-offer-2">
				<div class="tooltip">Production +40%</div>
			</div>
			<div class="upgrade-offer energy-drop" id="upgrade-offer-3">
				<div class="tooltip">Recover max energy</div>
			</div>
		</div>
	
		<div class="energy-bar-wrapper hoverable-tooltip">
			<div class="tooltip" id="energy-tooltip">0/0</div>
			<div class="energy-bar">
				<div class="energy-fill" id="energy-fill"></div>
				<div class="energy-text" id="energy-text"></div>
			</div>
		</div>
	
		<div class="resources-bar">
			<div class="resource">
				<div class="tooltip">Chips</div>
				<div class="resource-icon chips"></div>
				<span class="resource-value" id="chips-count">0</span>
			</div>
			<div class="resource">
				<div class="tooltip">Datas</div>
				<div class="resource-icon datas"></div>
				<span class="resource-value" id="datas-count">0</span>
			</div>
			<div class="resource">
				<div class="tooltip">Models</div>
				<div class="resource-icon models"></div>
				<span class="resource-value" id="models-count">0</span>
			</div>
			<div class="resource">
				<div class="tooltip">Engineers</div>
				<div class="resource-icon engineers"></div>
				<span class="resource-value" id="engineers-count">0</span>
			</div>
		</div>
	
		<div class="inputs-wrapper">
			<input type="range" id="energyStorageFactor" min="1" max="5" step="0.1" value="2" title="Energy Storage Factor">
		</div>
	
		<div id="network-container"></div>
	
		<div class="console">
			<div class="console-header">
				<span class="console-title">⚡ MYCELIUM NETWORK</span>
			</div>
			<div class="console-body" id="console-log"></div>
		</div>
	
		<div id="node-tooltip"></div>
	</div>
</body>
</html>